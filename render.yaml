# Render deployment configuration
build:
  command: npm install && npm run build
  env: node

services:
  - type: web
    name: voice-server
    env: node
    region: oregon
    plan: free
    buildCommand: npm install && npm run build
    startCommand: npm start
    healthCheckPath: /health
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
      - key: SOCKET_CORS
        sync: false
      - key: STUN_SERVERS
        value: stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302,stun:stun2.l.google.com:19302,stun:stun3.l.google.com:19302
      - key: GOOGLE_APPLICATION_CREDENTIALS
        sync: false
